<!DOCTYPE html>
<html lang="en" th:insert="~{base}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bibliotech</title>
</head>
<body>
  <th:block th:fragment="content">
    <section class="intro">
      <div class="bg-image h-100" th:style="'background:url(' + @{/assets/background-jogo-lista.jpg} + ');'">
        <div class="mask d-flex align-items-center h-100" style="background-color: rgba(0,0,0,.25);">
          <div class="container">
            <div class="row justify-content-center">
              <div class="col-12">
                <div class="card bg-dark shadow-2-strong">
                  <div class="card-body">
                    <div class="table-responsive">
                      <table class="table table-dark table-hover table-borderless mb-0">
                        <span class="h1">Lista de Jogos</span>
                        <a th:href="@{jogo/cadastro}" class="btn btn-success mx-3" th:if="${auth.admin()}">+</a>
                        <thead>
                          <tr>
                            <th scope="col">ID</th>
                            <th scope="col">NOME</th>
                            <th scope="col">PREÇO</th>
                            <th scope="col">CADASTRADO EM</th>
                            <th scope="col">AÇÕES</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr th:each="jogo : ${lista}">
                            <th scope="row" th:text="${jogo.id}"></th>
                            <td th:text="${jogo.nome}"></td>
                            <td th:text="'R$ ' + ${#numbers.formatDecimal(jogo.preco, 1, 'COMMA', 2, 'POINT')}"></td>
                            <td th:text="${{jogo.cadastradoEm}}"></td>
                            <td colspan="3">
                              <a th:href="@{'/jogo/detalhes/' + ${jogo.id}}" class="btn btn-info">Detalhes</a>
                              <span th:if="${auth.admin()}">
                                <a th:href="@{'/jogo/editar/' + ${jogo.id}}" class="btn btn-success">Editar</a>
                                <a th:href="@{'/jogo/deletar/' + ${jogo.id}}" class="btn btn-danger">Deletar</a>
                              </span>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </th:block>
</body>
</html>